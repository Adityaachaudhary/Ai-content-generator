{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{getCurrentUser}from'../features/auth/authSlice';import Dashboard from'../components/Dashboard';import{FaSpinner}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DashboardPage=()=>{const dispatch=useDispatch();const navigate=useNavigate();const{user,isLoading,isError}=useSelector(state=>state.auth);useEffect(()=>{if(!user){navigate('/');}else{// Refresh user data\ndispatch(getCurrentUser());}},[user,navigate,dispatch]);if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsx(FaSpinner,{className:\"text-3xl text-primary-500 animate-spin\"})});}if(isError){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-md text-center max-w-md w-full\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold text-gray-800 mb-2\",children:\"Error Loading Dashboard\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mb-6\",children:\"There was a problem loading your dashboard. Please try again.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>dispatch(getCurrentUser()),className:\"bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700\",children:\"Retry\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-8\",children:\"Dashboard\"}),/*#__PURE__*/_jsx(Dashboard,{})]});};export default DashboardPage;","map":{"version":3,"names":["React","useEffect","useSelector","useDispatch","useNavigate","getCurrentUser","Dashboard","FaSpinner","jsx","_jsx","jsxs","_jsxs","DashboardPage","dispatch","navigate","user","isLoading","isError","state","auth","className","children","onClick"],"sources":["C:/Users/harsh/Desktop/Ai-content generator/frontend/src/pages/DashboardPage.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getCurrentUser } from '../features/auth/authSlice';\r\nimport Dashboard from '../components/Dashboard';\r\nimport { FaSpinner } from 'react-icons/fa';\r\n\r\nconst DashboardPage = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  \r\n  const { user, isLoading, isError } = useSelector((state) => state.auth);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      navigate('/');\r\n    } else {\r\n      // Refresh user data\r\n      dispatch(getCurrentUser());\r\n    }\r\n  }, [user, navigate, dispatch]);\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <FaSpinner className=\"text-3xl text-primary-500 animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (isError) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"bg-white p-8 rounded-lg shadow-md text-center max-w-md w-full\">\r\n          <h2 className=\"text-2xl font-semibold text-gray-800 mb-2\">Error Loading Dashboard</h2>\r\n          <p className=\"text-gray-600 mb-6\">\r\n            There was a problem loading your dashboard. Please try again.\r\n          </p>\r\n          <button\r\n            onClick={() => dispatch(getCurrentUser())}\r\n            className=\"bg-primary-600 text-white py-2 px-4 rounded-lg hover:bg-primary-700\"\r\n          >\r\n            Retry\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Dashboard</h1>\r\n      <Dashboard />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage; "],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAC/C,OAASC,SAAS,KAAQ,gBAAgB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3C,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAAAC,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAW,QAAQ,CAAGV,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAEW,IAAI,CAAEC,SAAS,CAAEC,OAAQ,CAAC,CAAGf,WAAW,CAAEgB,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CAEvElB,SAAS,CAAC,IAAM,CACd,GAAI,CAACc,IAAI,CAAE,CACTD,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACL;AACAD,QAAQ,CAACR,cAAc,CAAC,CAAC,CAAC,CAC5B,CACF,CAAC,CAAE,CAACU,IAAI,CAAED,QAAQ,CAAED,QAAQ,CAAC,CAAC,CAE9B,GAAIG,SAAS,CAAE,CACb,mBACEP,IAAA,QAAKW,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEZ,IAAA,CAACF,SAAS,EAACa,SAAS,CAAC,wCAAwC,CAAE,CAAC,CAC7D,CAAC,CAEV,CAEA,GAAIH,OAAO,CAAE,CACX,mBACER,IAAA,QAAKW,SAAS,CAAC,0DAA0D,CAAAC,QAAA,cACvEV,KAAA,QAAKS,SAAS,CAAC,+DAA+D,CAAAC,QAAA,eAC5EZ,IAAA,OAAIW,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,yBAAuB,CAAI,CAAC,cACtFZ,IAAA,MAAGW,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,+DAElC,CAAG,CAAC,cACJZ,IAAA,WACEa,OAAO,CAAEA,CAAA,GAAMT,QAAQ,CAACR,cAAc,CAAC,CAAC,CAAE,CAC1Ce,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CAChF,OAED,CAAQ,CAAC,EACN,CAAC,CACH,CAAC,CAEV,CAEA,mBACEV,KAAA,QAAKS,SAAS,CAAC,6BAA6B,CAAAC,QAAA,eAC1CZ,IAAA,OAAIW,SAAS,CAAC,uCAAuC,CAAAC,QAAA,CAAC,WAAS,CAAI,CAAC,cACpEZ,IAAA,CAACH,SAAS,GAAE,CAAC,EACV,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}