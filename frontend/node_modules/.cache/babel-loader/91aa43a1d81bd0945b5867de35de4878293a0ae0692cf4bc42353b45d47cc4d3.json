{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{useNavigate}from'react-router-dom';import{getSubscriptionPlans,getUserSubscription,reset}from'../features/subscription/subscriptionSlice';import SubscriptionPlan from'../components/SubscriptionPlan';import PayPalButton from'../components/PayPalButton';import{FaSpinner,FaCheckCircle,FaInfoCircle,FaCrown,FaArrowLeft}from'react-icons/fa';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubscriptionPage=()=>{const dispatch=useDispatch();const navigate=useNavigate();const[selectedPlan,setSelectedPlan]=useState(null);const{user}=useSelector(state=>state.auth);const{plans,userSubscription,isLoading,isError,message}=useSelector(state=>state.subscription);useEffect(()=>{// Redirect if user not logged in\nif(!user){navigate('/');}// Get subscription plans\ndispatch(getSubscriptionPlans());// Get user subscription details\ndispatch(getUserSubscription());return()=>{dispatch(reset());};},[user,navigate,dispatch]);const handleSelectPlan=plan=>{// Free plan doesn't need to go through checkout\nif(plan.id==='free'){// This would normally handle downgrading to free plan\n// In a real application, this would call an API to update the user's plan\nalert('You have selected the Free plan. This would normally downgrade your subscription.');return;}// For paid plans, set the selected plan\nsetSelectedPlan(plan);// Scroll to the checkout section\nsetTimeout(()=>{var _document$getElementB;(_document$getElementB=document.getElementById('checkout-section'))===null||_document$getElementB===void 0?void 0:_document$getElementB.scrollIntoView({behavior:'smooth'});},100);};const handlePaymentSuccess=()=>{// Refresh user subscription details\ndispatch(getUserSubscription());// Clear selected plan\nsetSelectedPlan(null);// Show success message (removed alert as PayPalButton now shows success UI)\n};// Safely extract user and subscription data with fallbacks\nconst usageLimit=(user===null||user===void 0?void 0:user.usageLimit)||10;const usageCount=(user===null||user===void 0?void 0:user.usageCount)||0;const usagePercentage=Math.min(Math.round(usageCount/usageLimit*100),100);const subscriptionStatus=(userSubscription===null||userSubscription===void 0?void 0:userSubscription.status)||'free';const daysRemaining=userSubscription===null||userSubscription===void 0?void 0:userSubscription.daysRemaining;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"max-w-6xl mx-auto px-4 py-16 flex justify-center\",children:/*#__PURE__*/_jsx(FaSpinner,{className:\"text-primary-500 text-3xl animate-spin\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto px-4 py-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-12 text-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-800 mb-4\",children:\"Subscription Plans\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 max-w-3xl mx-auto\",children:\"Choose the plan that works best for you and start generating content with AI.\"})]}),isError&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 mb-8 flex items-start\",children:[/*#__PURE__*/_jsx(FaInfoCircle,{className:\"text-red-500 mt-1 mr-2 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"p\",{children:message})]}),userSubscription&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row md:items-center md:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-800 mb-2\",children:\"Your Current Subscription\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${subscriptionStatus==='free'?'bg-gray-100 text-gray-800':subscriptionStatus==='basic'?'bg-primary-100 text-primary-800':'bg-secondary-100 text-secondary-800'}`,children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"mr-1\"}),subscriptionStatus.charAt(0).toUpperCase()+subscriptionStatus.slice(1),\" Plan\"]}),daysRemaining!==null&&daysRemaining!==undefined&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-500\",children:[daysRemaining,\" days remaining\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(FaInfoCircle,{className:\"text-gray-400\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-gray-600 text-sm\",children:[\"Usage: \",/*#__PURE__*/_jsxs(\"span\",{className:\"font-semibold\",children:[usageCount,\" / \",usageLimit]}),\" content pieces\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-gray-200 rounded-full h-2.5\",children:/*#__PURE__*/_jsx(\"div\",{className:`h-2.5 rounded-full ${usagePercentage>90?'bg-red-500':usagePercentage>70?'bg-yellow-500':'bg-green-500'}`,style:{width:`${usagePercentage}%`}})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 md:mt-0\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/generator'),className:\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\",children:\"Go to Content Generator\"})})]})}),selectedPlan&&/*#__PURE__*/_jsxs(\"div\",{id:\"checkout-section\",className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-800\",children:[/*#__PURE__*/_jsx(FaCrown,{className:\"inline-block text-yellow-500 mr-2\"}),\"Upgrade to \",selectedPlan.name,\" Plan\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setSelectedPlan(null),className:\"text-gray-500 hover:text-gray-700\",children:[/*#__PURE__*/_jsx(FaArrowLeft,{className:\"mr-1 inline-block\"}),\" Back to plans\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-2/3\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 mb-4\",children:[\"You're about to upgrade to the \",selectedPlan.name,\" Plan for $\",selectedPlan.price,\"/month.\"]}),/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-2 mb-6\",children:selectedPlan.features.map((feature,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-500 mr-2 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:feature})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"border rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(PayPalButton,{planId:selectedPlan.id,onSuccess:handlePaymentSuccess})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/3 bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-medium text-gray-800 mb-2\",children:\"Order Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 border-b border-gray-200\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[selectedPlan.name,\" Plan\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",selectedPlan.price,\"/month\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between py-2 font-semibold\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Total\"}),/*#__PURE__*/_jsxs(\"span\",{children:[\"$\",selectedPlan.price,\"/month\"]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-4\",children:\"Your subscription will automatically renew each month. You can cancel anytime.\"})]})]})]}),!selectedPlan&&plans&&plans.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-8\",children:plans.map(plan=>/*#__PURE__*/_jsx(SubscriptionPlan,{plan:plan,isCurrentPlan:(userSubscription===null||userSubscription===void 0?void 0:userSubscription.status)===plan.id,onSelect:handleSelectPlan},plan.id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-200\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800 mb-4\",children:\"About Subscriptions\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"space-y-2 text-gray-600\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-500 mr-2 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"All plans include access to the AI content generator using Google Gemini.\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-500 mr-2 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Subscriptions are processed securely through PayPal and will automatically renew.\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-500 mr-2 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"You can cancel your subscription at any time through your account settings.\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(FaCheckCircle,{className:\"text-green-500 mr-2 mt-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:\"If you have any questions about billing or subscriptions, please contact our support team.\"})]})]})]})]});};export default SubscriptionPage;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","useNavigate","getSubscriptionPlans","getUserSubscription","reset","SubscriptionPlan","PayPalButton","FaSpinner","FaCheckCircle","FaInfoCircle","FaCrown","FaArrowLeft","jsx","_jsx","jsxs","_jsxs","SubscriptionPage","dispatch","navigate","selectedPlan","setSelectedPlan","user","state","auth","plans","userSubscription","isLoading","isError","message","subscription","handleSelectPlan","plan","id","alert","setTimeout","_document$getElementB","document","getElementById","scrollIntoView","behavior","handlePaymentSuccess","usageLimit","usageCount","usagePercentage","Math","min","round","subscriptionStatus","status","daysRemaining","className","children","charAt","toUpperCase","slice","undefined","style","width","onClick","name","price","features","map","feature","index","planId","onSuccess","length","isCurrentPlan","onSelect"],"sources":["C:/Users/harsh/Desktop/Ai-content generator/frontend/src/pages/SubscriptionPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { getSubscriptionPlans, getUserSubscription, reset } from '../features/subscription/subscriptionSlice';\r\nimport SubscriptionPlan from '../components/SubscriptionPlan';\r\nimport PayPalButton from '../components/PayPalButton';\r\nimport { FaSpinner, FaCheckCircle, FaInfoCircle, FaCrown, FaArrowLeft } from 'react-icons/fa';\r\n\r\nconst SubscriptionPage = () => {\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const [selectedPlan, setSelectedPlan] = useState(null);\r\n\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { plans, userSubscription, isLoading, isError, message } = useSelector(\r\n    (state) => state.subscription\r\n  );\r\n\r\n  useEffect(() => {\r\n    // Redirect if user not logged in\r\n    if (!user) {\r\n      navigate('/');\r\n    }\r\n\r\n    // Get subscription plans\r\n    dispatch(getSubscriptionPlans());\r\n\r\n    // Get user subscription details\r\n    dispatch(getUserSubscription());\r\n\r\n    return () => {\r\n      dispatch(reset());\r\n    };\r\n  }, [user, navigate, dispatch]);\r\n\r\n  const handleSelectPlan = (plan) => {\r\n    // Free plan doesn't need to go through checkout\r\n    if (plan.id === 'free') {\r\n      // This would normally handle downgrading to free plan\r\n      // In a real application, this would call an API to update the user's plan\r\n      alert('You have selected the Free plan. This would normally downgrade your subscription.');\r\n      return;\r\n    }\r\n\r\n    // For paid plans, set the selected plan\r\n    setSelectedPlan(plan);\r\n    // Scroll to the checkout section\r\n    setTimeout(() => {\r\n      document.getElementById('checkout-section')?.scrollIntoView({ behavior: 'smooth' });\r\n    }, 100);\r\n  };\r\n\r\n  const handlePaymentSuccess = () => {\r\n    // Refresh user subscription details\r\n    dispatch(getUserSubscription());\r\n    \r\n    // Clear selected plan\r\n    setSelectedPlan(null);\r\n    \r\n    // Show success message (removed alert as PayPalButton now shows success UI)\r\n  };\r\n\r\n  // Safely extract user and subscription data with fallbacks\r\n  const usageLimit = user?.usageLimit || 10;\r\n  const usageCount = user?.usageCount || 0;\r\n  const usagePercentage = Math.min(Math.round((usageCount / usageLimit) * 100), 100);\r\n  const subscriptionStatus = userSubscription?.status || 'free';\r\n  const daysRemaining = userSubscription?.daysRemaining;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"max-w-6xl mx-auto px-4 py-16 flex justify-center\">\r\n        <FaSpinner className=\"text-primary-500 text-3xl animate-spin\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto px-4 py-8\">\r\n      <div className=\"mb-12 text-center\">\r\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-4\">Subscription Plans</h1>\r\n        <p className=\"text-lg text-gray-600 max-w-3xl mx-auto\">\r\n          Choose the plan that works best for you and start generating content with AI.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Error message */}\r\n      {isError && (\r\n        <div className=\"bg-red-50 border border-red-200 text-red-800 rounded-lg p-4 mb-8 flex items-start\">\r\n          <FaInfoCircle className=\"text-red-500 mt-1 mr-2 flex-shrink-0\" />\r\n          <p>{message}</p>\r\n        </div>\r\n      )}\r\n\r\n      {/* Current subscription info */}\r\n      {userSubscription && (\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-12\">\r\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\r\n            <div>\r\n              <h2 className=\"text-xl font-semibold text-gray-800 mb-2\">Your Current Subscription</h2>\r\n              <div className=\"flex items-center gap-2 mb-4\">\r\n                <span\r\n                  className={`inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ${\r\n                    subscriptionStatus === 'free'\r\n                      ? 'bg-gray-100 text-gray-800'\r\n                      : subscriptionStatus === 'basic'\r\n                      ? 'bg-primary-100 text-primary-800'\r\n                      : 'bg-secondary-100 text-secondary-800'\r\n                  }`}\r\n                >\r\n                  <FaCheckCircle className=\"mr-1\" />\r\n                  {subscriptionStatus.charAt(0).toUpperCase() + subscriptionStatus.slice(1)} Plan\r\n                </span>\r\n                {daysRemaining !== null && daysRemaining !== undefined && (\r\n                  <span className=\"text-sm text-gray-500\">\r\n                    {daysRemaining} days remaining\r\n                  </span>\r\n                )}\r\n              </div>\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-center gap-2 mb-1\">\r\n                  <FaInfoCircle className=\"text-gray-400\" />\r\n                  <span className=\"text-gray-600 text-sm\">\r\n                    Usage: <span className=\"font-semibold\">{usageCount} / {usageLimit}</span> content pieces\r\n                  </span>\r\n                </div>\r\n                <div className=\"w-full bg-gray-200 rounded-full h-2.5\">\r\n                  <div \r\n                    className={`h-2.5 rounded-full ${\r\n                      usagePercentage > 90 ? 'bg-red-500' : \r\n                      usagePercentage > 70 ? 'bg-yellow-500' : \r\n                      'bg-green-500'\r\n                    }`} \r\n                    style={{ width: `${usagePercentage}%` }}\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"mt-4 md:mt-0\">\r\n              <button\r\n                onClick={() => navigate('/generator')}\r\n                className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors\"\r\n              >\r\n                Go to Content Generator\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Selected plan checkout */}\r\n      {selectedPlan && (\r\n        <div id=\"checkout-section\" className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h2 className=\"text-xl font-semibold text-gray-800\">\r\n              <FaCrown className=\"inline-block text-yellow-500 mr-2\" />\r\n              Upgrade to {selectedPlan.name} Plan\r\n            </h2>\r\n            <button\r\n              onClick={() => setSelectedPlan(null)}\r\n              className=\"text-gray-500 hover:text-gray-700\"\r\n            >\r\n              <FaArrowLeft className=\"mr-1 inline-block\" /> Back to plans\r\n            </button>\r\n          </div>\r\n          <div className=\"flex flex-col md:flex-row gap-8\">\r\n            <div className=\"md:w-2/3\">\r\n              <p className=\"text-gray-600 mb-4\">\r\n                You're about to upgrade to the {selectedPlan.name} Plan for ${selectedPlan.price}/month.\r\n              </p>\r\n              <ul className=\"space-y-2 mb-6\">\r\n                {selectedPlan.features.map((feature, index) => (\r\n                  <li key={index} className=\"flex items-start\">\r\n                    <FaCheckCircle className=\"text-green-500 mr-2 mt-1 flex-shrink-0\" />\r\n                    <span className=\"text-gray-600\">{feature}</span>\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <div className=\"border rounded-lg overflow-hidden\">\r\n                <PayPalButton \r\n                  planId={selectedPlan.id} \r\n                  onSuccess={handlePaymentSuccess} \r\n                />\r\n              </div>\r\n            </div>\r\n            <div className=\"md:w-1/3 bg-gray-50 p-4 rounded-lg\">\r\n              <h3 className=\"font-medium text-gray-800 mb-2\">Order Summary</h3>\r\n              <div className=\"flex justify-between py-2 border-b border-gray-200\">\r\n                <span>{selectedPlan.name} Plan</span>\r\n                <span>${selectedPlan.price}/month</span>\r\n              </div>\r\n              <div className=\"flex justify-between py-2 font-semibold\">\r\n                <span>Total</span>\r\n                <span>${selectedPlan.price}/month</span>\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-4\">\r\n                Your subscription will automatically renew each month. You can cancel anytime.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Subscription plans */}\r\n      {!selectedPlan && plans && plans.length > 0 && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n          {plans.map((plan) => (\r\n            <SubscriptionPlan\r\n              key={plan.id}\r\n              plan={plan}\r\n              isCurrentPlan={userSubscription?.status === plan.id}\r\n              onSelect={handleSelectPlan}\r\n            />\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mt-12 bg-gray-50 rounded-lg p-6 border border-gray-200\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">About Subscriptions</h3>\r\n        <ul className=\"space-y-2 text-gray-600\">\r\n          <li className=\"flex items-start\">\r\n            <FaCheckCircle className=\"text-green-500 mr-2 mt-1 flex-shrink-0\" />\r\n            <span>\r\n              All plans include access to the AI content generator using Google Gemini.\r\n            </span>\r\n          </li>\r\n          <li className=\"flex items-start\">\r\n            <FaCheckCircle className=\"text-green-500 mr-2 mt-1 flex-shrink-0\" />\r\n            <span>\r\n              Subscriptions are processed securely through PayPal and will automatically renew.\r\n            </span>\r\n          </li>\r\n          <li className=\"flex items-start\">\r\n            <FaCheckCircle className=\"text-green-500 mr-2 mt-1 flex-shrink-0\" />\r\n            <span>\r\n              You can cancel your subscription at any time through your account settings.\r\n            </span>\r\n          </li>\r\n          <li className=\"flex items-start\">\r\n            <FaCheckCircle className=\"text-green-500 mr-2 mt-1 flex-shrink-0\" />\r\n            <span>\r\n              If you have any questions about billing or subscriptions, please contact our support team.\r\n            </span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SubscriptionPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}